CREATE TABLE registers (
    id_register INT(3) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    password VARCHAR(100) NOT NULL,
    createdAt TIMESTAMP NOT NULL,
    token VARCHAR(50) NOT NULL,
    account ENUM('Active', 'Deactive') NOT NULL DEFAULT 'Deactive',
    id_level INT(3) NOT NULL DEFAULT 1,

    CONSTRAINT register_levels_id_level_fk
    FOREIGN KEY(id_level)
    REFERENCES register_levels(id_level)
);

CREATE TABLE register_levels (
    id_level INT(3) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    level VARCHAR(10) NOT NULL
);

INSERT INTO register_levels(level) VALUES
('User'),
('Admin');

CREATE TABLE attendances (
    id_attendance INT(3) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    id_register INT(3) NOT NULL,
    entryAt TIMESTAMP NOT NULL,
    exitAt DATETIME NOT NULL,
    checkIn ENUM('yes', 'no') NOT NULL,
    latitude VARCHAR(50) NOT NULL,
    longitude VARCHAR(50) NOT NULL,
    approver ENUM('yes', 'no') NOT NULL DEFAULT 'no',

    CONSTRAINT register_id_register_fk
    FOREIGN KEY(id_register)
    REFERENCES registers(id_register)
);