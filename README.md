## Admin Account
<b>Email :</b> ctf18email@gmail.com  
<b>Password : </b> testing18

## Package

The package used by this file are :
- "bcrypt": "^5.0.1"
- "cors": "^2.8.5"
- "express": "^4.17.1"
- "jsonwebtoken": "^8.5.1"
- "moment": "^2.29.1"
- "nodemailer": "^6.6.3"
- "nodemon": "^2.0.12"
- "pg": "^8.7.1"
- "pg-hstore": "^2.3.4"
- "sequelize": "^6.6.5"
  
  
## Endpoint

- <b>Register</b>  
POST - http://localhost:5000/register || https://quiet-everglades-86369.herokuapp.com/register  
Perlu masukkan <b>full_name, email, password, repassword</b>  
-Kalau full_name / email / password / repassword ada yang kosong, maka muncul pesan ("All input is required").....  
-Kalau password != repassword, maka akan muncul pesan ("Please match both password").....  
-Kalau email sudah ada, maka muncul pesan ("User Already Exist. Please Login").....  
-Kalau berhasil masuk ke database, maka response akan memberikan token.....  
  
- <b>Login</b>  
POST - http://localhost:5000/login || https://quiet-everglades-86369.herokuapp.com//login  
Perlu masukkan <b>email, password</b>  
-Kalau email / password ada yang kosong, maka muncul pesan ("All input is required").....  
-Kalau gagal dapat data user / pass salah, maka muncul pesan ("Invalid Credentials").....  
-Kalau berhasil login, maka akan dapatkan token baru.....  

- <b>Home Page</b>  
GET - http://localhost:5000/home || https://quiet-everglades-86369.herokuapp.com/home  
-Mencoba testing jika login akan masuk ke halaman welcome home page menggunakan token.....  
-Jika tidak ada token pada header, maka akan memunculkan pesan ("A token is required for authentication").....  
-Kalau token yang ada pada header berbeda dengan yang di login, maka akan memunculkan pesan ("Invalid Token").....  
-Kalau berhasil verify token, maka akan muncul pesan ("Welcome to Home Page").....  

- <b>Forgot Password</b>  
POST - http://localhost:5000/forgot || https://quiet-everglades-86369.herokuapp.com/forgot  
Perlu masukkan <b>email</b>  
-Kalau tidak isi email, maka memunculkan pesan ('Email address is missing').....  
-Kalau email tidak ada di database, maka memunculkan pesan ("Email user doesn't exist").....  
-Kalau tidak bisa kirim link ke email tujuan, maka muncul pesan ('Reset link cannot be sent').....  
-Kalau email sudah dikirim, maka muncul pesan ("Password reset link sent to your email account").....  

- <b>Reset Password</b>  
POST - http://localhost:5000/reset/:id_register || https://quiet-everglades-86369.herokuapp.com/reset/:id_register  
Perlu masukkan <b>password, repassword</b>  
-Kalau tidak terbaca ID di params, maka muncul pesan ('ID Register is missing').....  
-Kalau tidak masukkan password / repassword di body, maka muncul pesan ('All input required').....  
-Kalau password != repassword, maka muncul pesan ("Please match both password").....  
-Kalau tidak ada id_register di database, maka muncul pesan ("No user with ID").....  
-Kalau berhasil reset password, maka muncul pesan ('Reset Password Sucessfully').....  

- <b>Logout</b>  
PUT - http://localhost:5000/logout || https://quiet-everglades-86369.herokuapp.com/logout  
-Jika tidak ada token pada header, maka akan memunculkan pesan ("No Token Logout").....  
-Kalau berhasil logout, maka akan muncul pesan ('You have been Logged Out').....  
-Kalau sudah logout, user tidak bisa akses HOME lagi, perlu login ulang.....  
  
- <b>Admin Acc/Reject Account</b>  
PUT - http://localhost:5000/admin/:id_register || https://quiet-everglades-86369.herokuapp.com/admin/:id_register  
-Jika tidak ada token pada header, maka akan muncul pesan ("A token is required for authentication").....  
-Jika id_level pada token == 1, maka akan muncul pesan ('This is not admin').....  
-Kalau 1 = user, jadi tidak bisa akses endpoint ini.....  
-Jika id_register tidak ada pada params, maka muncul pesan ("ID_Register is required").....  
-Jika id_level pada token == 2, maka akan muncul pesan ('Active account success').....  
-Kalau 2 = admin, jadi admin bisa acc/rej account user.....  
  
- <b>CheckIn</b>  
POST - http://localhost:5000/checkin || https://quiet-everglades-86369.herokuapp.com/checkin  
Perlu masukkan <b>latitude, longitude</b>  
-Jika tidak ada token pada header, maka akan muncul pesan ("A token is required for authentication").....  
-Kalau tidak ada latitude / longitude pada body, maka muncul pesan ("All input is required").....  
-Kalau berhasil menghitung jaraknya dan <=100, maka muncul pesan ("Checkin success 'Yes'. Distance : jarak").....  
-Kalau berhasil menghitung jaraknya tetapi >100, maka muncul pesan ("Checkin success 'No'. Distance : jarak").....  

- <b>CheckOut</b>  
POST - http://localhost:5000/checkout || https://quiet-everglades-86369.herokuapp.com/checkout  
-Jika tidak ada token pada header, maka akan muncul pesan ("A token is required for authentication").....  
-Kalau tidak ditemukan checkIn user yg blm checkOut, muncul pesan ('User attendance doesn\'t exist. Please checkIn').....  
-Kalau tidak berhasil update data attendance user, muncul pesan ('Gagal checkOut. Please try again').....  
-Kalau berhasil menghitung duration, maka muncul pesan ("CheckOut success").....  
  
- <b>Users</b>  
GET - http:localhost:5000/users || https://quiet-everglades-86369.herokuapp.com/users  
-Jika tidak ada token pada header, maka akan muncul pesan ("A token is required for authentication").....  
-Jika id_level pada token == 1, maka akan muncul pesan ('This is not admin').....  
-Kalau 1 = user, jadi tidak bisa akses endpoint ini.....  
-Kalau berhasil, maka akan menampilkan data user yg register account.....  
  
- <b>Absence</b>  
GET - http://localhost:5000/absen || https://quiet-everglades-86369.herokuapp.com/absen  
-Jika tidak ada token pada header, maka akan muncul pesan ("A token is required for authentication").....  
-Jika id_level pada token == 1, maka akan muncul pesan ('This is not admin').....  
-Kalau 1 = user, jadi tidak bisa akses endpoint ini.....  
-Kalau berhasil maka menampilkan data user siapa saja yang bolos dalam 3 kali.....  

